# 프로젝트 개요
학원을 대상으로 한 출결관리 시스템이 포함된 커뮤니티 기반 네이티브 애플리케이션입니다. <br>
2인 팀 프로젝트로 진행하였으며, 저는 IoT, 백엔드, 프론트 엔드 개발을 담당하였습니다. <br>
NFC 리더기 개발, 출결 관리, 푸쉬 알림, 게시판 기능 등을 구현하였습니다.

# 유스케이스
![USE](img/checkmate%20유스케이스.png)
| 유스케이스 | 설명 |
|:-------|:-------|
| 회원가입 | 학원 관리자가 학원생 정보를 등록해야 회원가입 가능 |
| 게시판 | 게시판 작성 밎 조회 등이 가능하며 2분 이내에 짧은 영상 삽입 가능 |
| 숏폼 | 게시판에 영상이 삽입되면 자동으로 숏폼 리스트에 등록 |
| 출결 관리 | 학원 관리자는 웹을 통해 학원생의 출석과 결석 처리, 학원생은 카드나 휴대폰으로 출석 |
| 푸시 알림 | 학원생이 카드나 휴대폰으로 출석할 시 해당 부모에게 알림 전송 |

# 시스템 설계
## ER 다이어그램
![ER](img/checkmate%20ER%20다이어그램.png)
## 클래스 다이어그램
![CLASS](img/checkmate%20클래스%20다이어그램.png)
## 시퀀스 다이어그램
![SEQUENCE](img/checkmate%20시퀀스%20다이어그램.png)

# 기술 설명
### 언어 및 프레임워크
- 백엔드는 Node.js로 개발했습니다.
- 프론트엔드는 Android Studio를 이용해 Java로 개발했습니다. <br>
- NFC 리더기는 아두이노로 제작했습니다. 

### 데이터베이스
- **MySQL**을 사용해 관계형 데이터베이스를 구축했습니다.
- **JOIN 연산**을 활용해 여러 단계의 처리를 하나의 쿼리로 최적화했습니다.
- **모델링 핵심 문제**:
  - 학원생과 학부모 간 **다대다 관계**로 인해 원자성 위협
- **해결 방안**:
  - **가족 그룹화** 개념 도입 → 각 구성원에게 고유 '가족 번호' 부여
  - 동일 가족 번호로 학원생-학부모 관계를 유연하게 매핑하며 원자성 보장 <br>

### 숏폼 동영상
- 게시판 영상 업로시 **자동으로 숏폼 등록**됩니다.
- **문제 발생**:
  - 안드로이드 동영상 플레이어의 **코덱 지원 한계**로 일부 영상 재생 불가
- **해결 방안**:
  - 동영상 재생 영역을 **WebView로 구현** → 웹 기반 플레이어가 호환성 문제 해결
  - 서버에서 영상 데이터 스트리밍 후 웹뷰에서 렌더링

### NFC 리더기
- **출석 방식**:
  - 학원생은 휴대폰(HCE) 또는 학원 발급 카드로 출석
- **기술적 문제**:
  - 초기 사용한 **RFID-RC522** 모듈은 **APDU 미지원** → 안드로이드 HCE 인식 불가
- **해결 방안**:
  - **PN532 모듈**로 교체 → **ISO/IEC 1443-4** 전송 프로토콜 및 **APDU 명령어 지원**으로 HCE 호환성 확보

### 푸쉬 알림
- **Firebase Cloud Messaging(FCM)** 으로 푸시 알림 서버 구현
- **출석 이벤트 발생 시** 해당 학원생의 학부모에게 실시간 알림 전송

# 프로젝트 소스 코드
https://github.com/orgs/k-vertex/repositories
